-- Drop all RLS policies and disable Row Level Security
-- Run this in Supabase SQL Editor to fix permission denied errors

-- Drop policies for users and administrators tables
DROP POLICY IF EXISTS "Enable read access for all users" ON users;
DROP POLICY IF EXISTS "Enable write access for users" ON users;
DROP POLICY IF EXISTS "Allow authenticated users to read users" ON users;
DROP POLICY IF EXISTS "Allow authenticated users to read administrators" ON administrators;

-- Disable RLS on all tables
ALTER TABLE users DISABLE ROW LEVEL SECURITY;
ALTER TABLE administrators DISABLE ROW LEVEL SECURITY;
ALTER TABLE email_verification DISABLE ROW LEVEL SECURITY;
ALTER TABLE user_photos DISABLE ROW LEVEL SECURITY;
ALTER TABLE customers DISABLE ROW LEVEL SECURITY;
ALTER TABLE event_organizers DISABLE ROW LEVEL SECURITY;
ALTER TABLE coordinators DISABLE ROW LEVEL SECURITY;
ALTER TABLE venue_administrators DISABLE ROW LEVEL SECURITY;
ALTER TABLE administrators DISABLE ROW LEVEL SECURITY;
ALTER TABLE otp DISABLE ROW LEVEL SECURITY;
ALTER TABLE password_reset DISABLE ROW LEVEL SECURITY;
ALTER TABLE email_verification DISABLE ROW LEVEL SECURITY;
ALTER TABLE event_themes DISABLE ROW LEVEL SECURITY;
ALTER TABLE theme_categories DISABLE ROW LEVEL SECURITY;
ALTER TABLE decoration_styles DISABLE ROW LEVEL SECURITY;
ALTER TABLE lighting_styles DISABLE ROW LEVEL SECURITY;
ALTER TABLE event_theme_categories DISABLE ROW LEVEL SECURITY;
ALTER TABLE event_theme_decorations DISABLE ROW LEVEL SECURITY;
ALTER TABLE event_theme_lighting DISABLE ROW LEVEL SECURITY;
ALTER TABLE event_theme_accent_colors DISABLE ROW LEVEL SECURITY;
ALTER TABLE event_theme_images DISABLE ROW LEVEL SECURITY;
ALTER TABLE package_types DISABLE ROW LEVEL SECURITY;
ALTER TABLE event_packages DISABLE ROW LEVEL SECURITY;
ALTER TABLE package_pax_prices DISABLE ROW LEVEL SECURITY;
ALTER TABLE service_categories DISABLE ROW LEVEL SECURITY;
ALTER TABLE services DISABLE ROW LEVEL SECURITY;
ALTER TABLE package_services DISABLE ROW LEVEL SECURITY;
ALTER TABLE add_on_categories DISABLE ROW LEVEL SECURITY;
ALTER TABLE add_ons DISABLE ROW LEVEL SECURITY;
ALTER TABLE event_categories DISABLE ROW LEVEL SECURITY;
ALTER TABLE venues DISABLE ROW LEVEL SECURITY;
ALTER TABLE venue_admin_assignments DISABLE ROW LEVEL SECURITY;
ALTER TABLE venue_types DISABLE ROW LEVEL SECURITY;
ALTER TABLE venue_venue_types DISABLE ROW LEVEL SECURITY;
ALTER TABLE venue_contacts DISABLE ROW LEVEL SECURITY;
ALTER TABLE venue_specifications DISABLE ROW LEVEL SECURITY;
ALTER TABLE venue_allowed_event_types DISABLE ROW LEVEL SECURITY;
ALTER TABLE venue_images DISABLE ROW LEVEL SECURITY;
ALTER TABLE venue_facilities DISABLE ROW LEVEL SECURITY;
ALTER TABLE venue_rules DISABLE ROW LEVEL SECURITY;
ALTER TABLE venue_floor_plans DISABLE ROW LEVEL SECURITY;
ALTER TABLE venue_doors DISABLE ROW LEVEL SECURITY;
ALTER TABLE venue_base_rates DISABLE ROW LEVEL SECURITY;
ALTER TABLE venue_overtime_rates DISABLE ROW LEVEL SECURITY;
ALTER TABLE venue_packages DISABLE ROW LEVEL SECURITY;
ALTER TABLE venue_package_inclusions DISABLE ROW LEVEL SECURITY;
ALTER TABLE venue_seasonal_pricing DISABLE ROW LEVEL SECURITY;
ALTER TABLE bookings DISABLE ROW LEVEL SECURITY;
ALTER TABLE booking_add_ons DISABLE ROW LEVEL SECURITY;
ALTER TABLE booking_themes DISABLE ROW LEVEL SECURITY;
ALTER TABLE booking_pricing DISABLE ROW LEVEL SECURITY;
ALTER TABLE custom_venues DISABLE ROW LEVEL SECURITY;
ALTER TABLE projects DISABLE ROW LEVEL SECURITY;
ALTER TABLE reschedules DISABLE ROW LEVEL SECURITY;
ALTER TABLE reviews DISABLE ROW LEVEL SECURITY;
ALTER TABLE venue_direct_bookings DISABLE ROW LEVEL SECURITY;
ALTER TABLE direct_booking_themes DISABLE ROW LEVEL SECURITY;
ALTER TABLE venue_direct_reschedules DISABLE ROW LEVEL SECURITY;
ALTER TABLE venue_blocked_dates DISABLE ROW LEVEL SECURITY;
ALTER TABLE venue_overtime_logs DISABLE ROW LEVEL SECURITY;
ALTER TABLE booking_adjustments DISABLE ROW LEVEL SECURITY;
ALTER TABLE booking_billing_summary DISABLE ROW LEVEL SECURITY;
